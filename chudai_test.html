import { useState, useEffect } from 'react';
import { Play, ShoppingBag, Star, Clock } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';

const Index = () => {
  const [isLoading, setIsLoading] = useState(false);
  const [showRedirectAnimation, setShowRedirectAnimation] = useState(false);

  // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö - ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô affiliate link ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
  const shopeeAffiliateLink = "https://s.shopee.co.th/7V5Hogmu7q/";

  const handleVideoClick = () => {
    setIsLoading(true);
    setShowRedirectAnimation(true);
    
    // ‡∏à‡∏≥‡∏•‡∏≠‡∏á loading ‡πÅ‡∏•‡∏∞ redirect
    setTimeout(() => {
      window.open(shopeeAffiliateLink, '_blank');
      setIsLoading(false);
      setShowRedirectAnimation(false);
    }, 2000);
  };

  const previewData = {
    title: "üî• Chudai",
    description: "üî• Chudai",
    thumbnailUrl: "https://streamable.com/giveyt", // ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏™‡πà URL ‡∏£‡∏π‡∏õ‡∏à‡∏£‡∏¥‡∏á
    duration: "1:30",
    views: "125K",
    rating: 4.9
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50">
      {/* Header */}
      <header className="bg-white shadow-sm border-b">
        <div className="max-w-4xl mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-2">
              <ShoppingBag className="w-8 h-8 text-orange-500" />
              <h1 className="text-xl font-bold text-gray-800">Twitter Card Preview</h1>
            </div>
            <div className="text-sm text-gray-600">
              Preview Mode
            </div>
          </div>
        </div>
      </header>

      <div className="max-w-4xl mx-auto px-4 py-8">
        {/* ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô */}
        <div className="mb-8 text-center">
          <h2 className="text-3xl font-bold text-gray-800 mb-4">
            Twitter Card ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Shopee Redirect
          </h2>
          <p className="text-gray-600 max-w-2xl mx-auto">
            ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Twitter Card ‡πÅ‡∏ö‡∏ö "player" 
            ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ö‡∏ô Twitter ‡∏à‡∏∞‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ
          </p>
        </div>

        {/* Twitter Card Preview */}
        <div className="grid md:grid-cols-2 gap-8 mb-8">
          {/* ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Twitter Card */}
          <Card className="overflow-hidden">
            <div className="p-4 border-b bg-gray-50">
              <h3 className="font-semibold text-gray-800">Twitter Card Preview</h3>
              <p className="text-sm text-gray-600">‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô Twitter</p>
            </div>
            
            <div className="p-4">
              {/* Mock Twitter Card */}
              <div className="border rounded-lg overflow-hidden bg-white shadow-sm">
                <div 
                  className="relative aspect-video bg-gradient-to-br from-orange-400 via-red-500 to-pink-500 cursor-pointer group"
                  onClick={handleVideoClick}
                >
                  {/* Thumbnail/Video Preview */}
                  <div className="absolute inset-0 bg-black/20 flex items-center justify-center">
                    <div className="relative">
                      {showRedirectAnimation ? (
                        <div className="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
                      ) : (
                        <div className="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300 group-hover:scale-110">
                          <Play className="w-8 h-8 text-white ml-1" fill="white" />
                        </div>
                      )}
                    </div>
                  </div>
                  
                  {/* Video Info Overlay */}
                  <div className="absolute bottom-3 left-3 right-3">
                    <div className="flex items-center justify-between text-white text-sm">
                      <div className="flex items-center space-x-2">
                        <Clock className="w-4 h-4" />
                        <span>{previewData.duration}</span>
                      </div>
                      <div className="flex items-center space-x-2">
                        <Star className="w-4 h-4 fill-yellow-400 text-yellow-400" />
                        <span>{previewData.rating}</span>
                      </div>
                    </div>
                  </div>
                  
                  {/* Shopee Badge */}
                  <div className="absolute top-3 right-3">
                    <div className="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">
                      SHOPEE
                    </div>
                  </div>
                </div>
                
                <div className="p-3">
                  <h4 className="font-bold text-gray-800 line-clamp-2">
                    {previewData.title}
                  </h4>
                  <p className="text-gray-600 text-sm mt-1 line-clamp-2">
                    {previewData.description}
                  </p>
                  <div className="flex items-center justify-between mt-2 text-xs text-gray-500">
                    <span>{previewData.views} views</span>
                    <span>Shopee Thailand</span>
                  </div>
                </div>
              </div>
            </div>
          </Card>

          {/* ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ */}
          <Card className="overflow-hidden">
            <div className="p-4 border-b bg-gray-50">
              <h3 className="font-semibold text-gray-800">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á</h3>
              <p className="text-sm text-gray-600">Meta tags ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Twitter Card</p>
            </div>
            
            <div className="p-4 space-y-4">
              <div>
                <label className="text-sm font-medium text-gray-700">Card Type</label>
                <div className="mt-1 p-2 bg-gray-50 rounded text-sm">player</div>
              </div>
              
              <div>
                <label className="text-sm font-medium text-gray-700">Title</label>
                <div className="mt-1 p-2 bg-gray-50 rounded text-sm">{previewData.title}</div>
              </div>
              
              <div>
                <label className="text-sm font-medium text-gray-700">Description</label>
                <div className="mt-1 p-2 bg-gray-50 rounded text-sm">{previewData.description}</div>
              </div>
              
              <div>
                <label className="text-sm font-medium text-gray-700">Redirect URL</label>
                <div className="mt-1 p-2 bg-gray-50 rounded text-sm break-all">{shopeeAffiliateLink}</div>
              </div>
            </div>
          </Card>
        </div>

        {/* HTML Code Example */}
        <Card className="overflow-hidden">
          <div className="p-4 border-b bg-gray-50">
            <h3 className="font-semibold text-gray-800">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á HTML Code</h3>
            <p className="text-sm text-gray-600">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
          </div>
          
          <div className="p-4">
            <pre className="bg-gray-900 text-green-400 p-4 rounded-lg text-sm overflow-x-auto">
{`<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${previewData.title}</title>

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="player">
    <meta name="twitter:title" content="${üî• Chudai}">
    <meta name="twitter:description" content="${üî• Chudai}">
    <meta name="twitter:image" content="https://streamable.com/giveyt">
    <meta name="twitter:player" content="https://streamable.com/giveyt">
    <meta name="twitter:player:width" content="1280">
    <meta name="twitter:player:height" content="720">

    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff6b35, #f7931e, #ee4d2d);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: Arial, sans-serif;
        }
        .video-container {
            position: relative;
            width: 100%;
            max-width: 1280px;
            aspect-ratio: 16/9;
            background: rgba(0,0,0,0.1);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
        }
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .play-button:hover {
            background: rgba(255,255,255,1);
            transform: translate(-50%, -50%) scale(1.1);
        }
    </style>
</head>
<body>
    <div class="video-container" onclick="redirectToShopee()">
        <div class="play-button">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="#ee4d2d">
                <path d="M8 5v14l11-7z"/>
            </svg>
        </div>
    </div>

    <script>
        function redirectToShopee() {
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô Affiliate Link ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
            window.location.replace("${https://s.shopee.co.th/7V5Hogmu7q}");
        }
        
        // Auto redirect ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
        // setTimeout(redirectToShopee, 3000);
    </script>
</body>
</html>`}
            </pre>
          </div>
        </Card>

        {/* Instructions */}
        <div className="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6">
          <h3 className="font-semibold text-blue-800 mb-3">üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
          <ol className="list-decimal list-inside space-y-2 text-blue-700">
            <li>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î HTML ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÑ‡∏õ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà</li>
            <li>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç URL ‡πÉ‡∏ô meta tags ‡πÅ‡∏•‡∏∞ JavaScript ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
            <li>‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏π‡∏õ thumbnail ‡∏Ç‡∏ô‡∏≤‡∏î 1280x720 pixels</li>
            <li>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏∂‡πâ‡∏ô web hosting (GitHub Pages, Netlify, ‡∏´‡∏£‡∏∑‡∏≠ hosting ‡∏≠‡∏∑‡πà‡∏ô‡πÜ)</li>
            <li>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Twitter Card Validator</li>
            <li>‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ö‡∏ô Twitter!</li>
          </ol>
        </div>

        {/* Warning */}
        <div className="mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4">
          <p className="text-yellow-800 text-sm">
            <strong>‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:</strong> ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Twitter Card ‡πÄ‡∏û‡∏∑‡πà‡∏≠ redirect ‡πÑ‡∏õ affiliate link 
            ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Twitter ‡πÅ‡∏•‡∏∞ Shopee ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î
          </p>
        </div>
      </div>
    </div>
  );
};

export default Index;
